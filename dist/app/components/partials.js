/*! grafana - v1.8.0 - 2014-09-08
 * Copyright (c) 2014 Torkel Ödegaard; Licensed Apache License */

define("components/partials",["angular"],function(a){a.module("grafana").run(["$templateCache",function(a){a.put("app/panels/graph/axisEditor.html",'<div class="editor-row"><div class="section"><h5>Left Y Axis</h5><div class="editor-option"><label class="small">Format<tip>Y-axis formatting</tip></label><select class="input-small" ng-model="panel.y_formats[0]" ng-options="f for f in [\'none\',\'short\',\'bytes\', \'bits\', \'bps\', \'s\', \'ms\', \'µs\', \'ns\']" ng-change="render()"></select></div><div class="editor-option"><label class="small">Min / <a ng-click="toggleGridMinMax(\'leftMin\')">Auto <i class="icon-star" ng-show="_.isNull(panel.grid.leftMin)"></i></a></label><input type="number" class="input-small" ng-model="panel.grid.leftMin" ng-change="render()" ng-model-onblur=""></div><div class="editor-option"><label class="small">Max / <a ng-click="toggleGridMinMax(\'leftMax\')">Auto <i class="icon-star" ng-show="_.isNull(panel.grid.leftMax)"></i></a></label><input type="number" class="input-small" ng-model="panel.grid.leftMax" ng-change="render()" ng-model-onblur=""></div><div class="editor-option"><label class="small">Label</label><input ng-change="get_data()" ng-model-onblur="" placeholder="" type="text" class="input-medium" ng-model="panel.leftYAxisLabel"></div></div><div class="section"><h5>Right Y Axis</h5><div class="editor-option"><label class="small">Format<tip>Y-axis formatting</tip></label><select class="input-small" ng-model="panel.y_formats[1]" ng-options="f for f in [\'none\',\'short\',\'bytes\', \'bits\', \'bps\', \'s\', \'ms\', \'µs\', \'ns\']" ng-change="render()"></select></div><div class="editor-option"><label class="small">Min / <a ng-click="toggleGridMinMax(\'rightMin\')">Auto <i class="icon-star" ng-show="_.isNull(panel.grid.rightMin)"></i></a></label><input type="number" class="input-small" ng-model="panel.grid.rightMin" ng-change="render()" ng-model-onblur=""></div><div class="editor-option"><label class="small">Max / <a ng-click="toggleGridMinMax(\'rightMax\')">Auto <i class="icon-star" ng-show="_.isNull(panel.grid.rightMax)"></i></a></label><input type="number" class="input-small" ng-model="panel.grid.rightMax" ng-change="render()" ng-model-onblur=""></div></div></div><div class="editor-row"><div class="section"><h5>Legend styles</h5><div class="editor-option"><label class="small">Show Legend</label><input type="checkbox" ng-model="panel.legend.show" ng-checked="panel.legend.show" ng-change="render();"></div><div class="editor-option"><label class="small">Include Values</label><input type="checkbox" ng-model="panel.legend.values" ng-checked="panel.legend.values" ng-change="render();"></div><div class="editor-option"><label class="small">Align as table</label><input type="checkbox" ng-model="panel.legend.alignAsTable" ng-checked="panel.legend.alignAsTable"></div><div class="editor-option"><label class="small">Right side</label><input type="checkbox" ng-model="panel.legend.rightSide" ng-change="render();" ng-checked="panel.legend.rightSide"></div></div><div class="section" ng-if="panel.legend.values"><h5>Legend values</h5><div class="editor-option"><label class="small">Min</label><input type="checkbox" ng-model="panel.legend.min" ng-checked="panel.legend.min" ng-change="render();"></div><div class="editor-option"><label class="small">Max</label><input type="checkbox" ng-model="panel.legend.max" ng-checked="panel.legend.max" ng-change="render();"></div><div class="editor-option"><label class="small">Current</label><input type="checkbox" ng-model="panel.legend.current" ng-checked="panel.legend.current" ng-change="render();"></div><div class="editor-option"><label class="small">Total</label><input type="checkbox" ng-model="panel.legend.total" ng-checked="panel.legend.total" ng-change="render();"></div><div class="editor-option"><label class="small">Avg</label><input type="checkbox" ng-model="panel.legend.avg" ng-checked="panel.legend.avg" ng-change="render();"></div></div><div class="section"><h5>Grid thresholds</h5><div class="editor-option"><label class="small">Level1</label><input type="number" class="input-small" ng-model="panel.grid.threshold1" ng-change="render()" ng-model-onblur=""></div><div class="editor-option"><label class="small">Color</label><spectrum-picker ng-model="panel.grid.threshold1Color" ng-change="render()"></spectrum-picker></div><div class="editor-option"><label class="small">Level2</label><input type="number" class="input-small" ng-model="panel.grid.threshold2" ng-change="render()" ng-model-onblur=""></div><div class="editor-option"><label class="small">Color</label><spectrum-picker ng-model="panel.grid.threshold2Color" ng-change="render()"></spectrum-picker></div><div class="editor-option"><label class="small">Line mode</label><input type="checkbox" ng-model="panel.grid.thresholdLine" ng-checked="panel.grid.thresholdLine" ng-change="render();"></div></div><div class="section"><h5>Show Axes</h5><div class="editor-option"><label class="small">X-Axis</label><input type="checkbox" ng-model="panel[\'x-axis\']" ng-checked="panel[\'x-axis\']" ng-change="render()"></div><div class="editor-option"><label class="small">Y-Axis</label><input type="checkbox" ng-model="panel[\'y-axis\']" ng-checked="panel[\'y-axis\']" ng-change="render()"></div></div></div>'),a.put("app/panels/graph/legend.html",'<section class="graph-legend" ng-class="{\'graph-legend-table\': panel.legend.alignAsTable}"><div class="graph-legend-series" ng-repeat="series in legend" ng-class="{\'pull-right\': series.yaxis === 2, \'graph-legend-series-hidden\': hiddenSeries[series.alias]}"><div class="graph-legend-icon"><i class="icon-minus pointer" ng-style="{color: series.color}" bs-popover="\'colorPopup.html\'"></i></div><div class="graph-legend-alias small"><a ng-click="toggleSeries(series, $event)" data-unique="1" data-placement="{{series.yaxis === 2 ? \'bottomRight\' : \'bottomLeft\'}}">{{series.alias}}</a></div><div class="graph-legend-value current small" ng-show="panel.legend.values && panel.legend.current" ng-bind="series.current"></div><div class="graph-legend-value min small" ng-show="panel.legend.values && panel.legend.min" ng-bind="series.min"></div><div class="graph-legend-value max small" ng-show="panel.legend.values && panel.legend.max" ng-bind="series.max"></div><div class="graph-legend-value total small" ng-show="panel.legend.values && panel.legend.total" ng-bind="series.total"></div><div class="graph-legend-value avg small" ng-show="panel.legend.values && panel.legend.avg" ng-bind="series.avg"></div></div></section><script type="text/ng-template" id="colorPopup.html"><div class="graph-legend-popover">\n    <a class="close" ng-click="dismiss();" href="">×</a>\n\n    <div class="editor-row small" style="padding-bottom: 0;">\n      <label>Axis:</label>\n      <button ng-click="toggleYAxis(series);dismiss();"\n              class="btn btn-mini"\n              ng-class="{\'btn-success\': series.yaxis === 1 }">\n        Left\n      </button>\n      <button ng-click="toggleYAxis(series);dismiss();"\n              class="btn btn-mini"\n              ng-class="{\'btn-success\': series.yaxis === 2 }">\n        Right\n      </button>\n    </div>\n\n    <div class="editor-row">\n      <i ng-repeat="color in colors"\n        class="pointer"\n        ng-class="{\'icon-circle-blank\': color === series.color,\'icon-circle\': color !== series.color}"\n        ng-style="{color:color}"\n        ng-click="changeSeriesColor(series, color);dismiss();">\n      </i>\n    </div>\n  </div></script>'),a.put("app/panels/graph/styleEditor.html",'<div class="editor-row"><div class="section"><h5>Chart Options</h5><div class="editor-option"><label class="small">Bars</label><input type="checkbox" ng-model="panel.bars" ng-checked="panel.bars" ng-change="render()"></div><div class="editor-option"><label class="small">Lines</label><input type="checkbox" ng-model="panel.lines" ng-checked="panel.lines" ng-change="render()"></div><div class="editor-option"><label class="small">Points</label><input type="checkbox" ng-model="panel.points" ng-checked="panel.points" ng-change="render()"></div></div><div class="section"><h5>Line options</h5><div class="editor-option" ng-show="panel.lines"><label class="small">Line Fill</label><select class="input-mini" ng-model="panel.fill" ng-options="f for f in [0,1,2,3,4,5,6,7,8,9,10]" ng-change="render()"></select></div><div class="editor-option" ng-show="panel.lines"><label class="small">Line Width</label><select class="input-mini" ng-model="panel.linewidth" ng-options="f for f in [0,1,2,3,4,5,6,7,8,9,10]" ng-change="render()"></select></div><div class="editor-option" ng-show="panel.points"><label class="small">Point Radius</label><select class="input-mini" ng-model="panel.pointradius" ng-options="f for f in [1,2,3,4,5,6,7,8,9,10]" ng-change="render()"></select></div><div class="editor-option"><label class="small">Null point mode<tip>Define how null values should be drawn</tip></label><select class="input-medium" ng-model="panel.nullPointMode" ng-options="f for f in [\'connected\', \'null\', \'null as zero\']" ng-change="render()"></select></div><div class="editor-option"><label class="small">Staircase line</label><input type="checkbox" ng-model="panel.steppedLine" ng-checked="panel.steppedLine" ng-change="render()"></div></div><div class="section"><h5>Multiple Series</h5><div class="editor-option"><label class="small">Stack</label><input type="checkbox" ng-model="panel.stack" ng-checked="panel.stack" ng-change="render()"></div><div class="editor-option" ng-show="panel.stack"><label style="white-space:nowrap" class="small">Percent<tip>Stack as a percentage of total</tip></label><input type="checkbox" ng-model="panel.percentage" ng-checked="panel.percentage" ng-change="render()"></div><div class="editor-option" ng-show="panel.stack"><label class="small">Stacked Values<tip>How should the values in stacked charts to be calculated?</tip></label><select class="input-small" ng-model="panel.tooltip.value_type" ng-options="f for f in [\'cumulative\',\'individual\']" ng-change="render()"></select></div></div><div class="section"><h5>Rendering</h5><div class="editor-option"><label class="small">Flot<tip>client side</tip></label><input type="radio" class="input-small" ng-model="panel.renderer" value="flot" ng-change="get_data()"></div><div class="editor-option"><label class="small">Graphite PNG<tip>server side</tip></label><input type="radio" class="input-small" ng-model="panel.renderer" value="png" ng-change="get_data()"></div></div></div><div class="editor-row"><div class="section"><h5>Series specific overrides<tip>Regex match example: /server[0-3]/i</tip></h5><div><div class="grafana-target" ng-repeat="override in panel.seriesOverrides" ng-controller="SeriesOverridesCtrl"><div class="grafana-target-inner"><ul class="grafana-segment-list"><li class="grafana-target-segment"><i class="icon-remove pointer" ng-click="removeSeriesOverride(override)"></i></li><li class="grafana-target-segment">alias or regex</li><li><input type="text" ng-model="override.alias" bs-typeahead="getSeriesNames" ng-blur="render()" data-min-length="0" data-items="100" class="input-medium grafana-target-segment-input"></li><li class="grafana-target-segment" ng-repeat="option in currentOverrides"><i class="pointer icon-remove" ng-click="removeOverride(option)"></i> {{option.name}}: {{option.value}}</li><li class="dropdown"><a class="dropdown-toggle grafana-target-segment" data-toggle="dropdown" gf-dropdown="overrideMenu" bs-tooltip="\'set option to override\'" data-placement="right"><i class="icon-plus"></i></a></li></ul><div class="clearfix"></div></div></div></div><button class="btn btn-success" style="margin-top: 20px" ng-click="addSeriesOverride()">Add series override rule</button></div></div>'),a.put("app/panels/text/editor.html","<div><div class=\"row-fluid\"><div class=\"span4\"><label class=\"small\">Mode</label><select class=\"input-medium\" ng-model=\"panel.mode\" ng-options=\"f for f in ['html','markdown','text']\"></select></div><div class=\"span2\" ng-show=\"panel.mode == 'text'\"><label class=\"small\">Font Size</label><select class=\"input-mini\" ng-model=\"panel.style['font-size']\" ng-options=\"f for f in ['6pt','7pt','8pt','10pt','12pt','14pt','16pt','18pt','20pt','24pt','28pt','32pt','36pt','42pt','48pt','52pt','60pt','72pt']\"></select></div></div><label class=\"small\">Content <span ng-show=\"panel.mode == 'html'\">(This area uses HTML sanitized via AngularJS's <a href=\"http://docs.angularjs.org/api/ngSanitize.$sanitize\">$sanitize</a> service)</span> <span ng-show=\"panel.mode == 'markdown'\">(This area uses <a target=\"_blank\" href=\"http://en.wikipedia.org/wiki/Markdown\">Markdown</a>. HTML is not supported)</span></label><textarea ng-model=\"panel.content\" rows=\"6\" style=\"width:95%\" ng-change=\"render()\" ng-model-onblur=\"\">\n  </textarea></div>"),a.put("app/panels/timepicker/custom.html",'<div class="dashboard-editor-header"><div class="dashboard-editor-title"><i class="icon icon-calendar-empty"></i> Custom time range</div></div><div class="dashboard-editor-body"><style>.timepicker-to-column {\n			margin-top: 10px;\n		}\n\n		.timepicker-input input {\n			outline: 0 !important;\n			border: 0px !important;\n			-webkit-box-shadow: 0;\n			-moz-box-shadow: 0;\n			box-shadow: 0;\n			position: relative;\n		}\n\n		.timepicker-input input::-webkit-outer-spin-button,\n		.timepicker-input input::-webkit-inner-spin-button {\n			-webkit-appearance: none;\n			margin: 0;\n		}\n\n		input.timepicker-date {\n			width: 90px;\n		}\n		input.timepicker-hms {\n			width: 20px;\n		}\n		input.timepicker-ms {\n			width: 25px;\n		}\n		div.timepicker-now {\n			float: right;\n		}</style><div class="timepicker form-horizontal"><form name="input"><div class="timepicker-from-column"><label class="small">From</label><div class="fake-input timepicker-input"><input class="timepicker-date" type="text" ng-change="validate(temptime)" ng-model="temptime.from.date" data-date-format="yyyy-mm-dd" required="" bs-datepicker="">@<input class="timepicker-hms" type="text" maxlength="2" ng-change="validate(temptime)" ng-model="temptime.from.hour" required="" ng-pattern="patterns.hour" onclick="this.select()">:<input class="timepicker-hms" type="text" maxlength="2" ng-change="validate(temptime)" ng-model="temptime.from.minute" required="" ng-pattern="patterns.minute" onclick="this.select()">:<input class="timepicker-hms" type="text" maxlength="2" ng-change="validate(temptime)" ng-model="temptime.from.second" required="" ng-pattern="patterns.second" onclick="this.select()">.<input class="timepicker-ms" type="text" maxlength="3" ng-change="validate(temptime)" ng-model="temptime.from.millisecond" required="" ng-pattern="patterns.millisecond" onclick="this.select()"></div></div><div class="timepicker-to-column"><label class="small">To (<a class="link" ng-class="{\'strong\':temptime.now}" ng-click="setNow();temptime.now=true">now</a>)</label><div class="fake-input timepicker-input"><div ng-hide="temptime.now"><input class="timepicker-date" type="text" ng-change="validate(temptime)" ng-model="temptime.to.date" data-date-format="yyyy-mm-dd" required="" bs-datepicker="">@<input class="timepicker-hms" type="text" maxlength="2" ng-change="validate(temptime)" ng-model="temptime.to.hour" required="" ng-pattern="patterns.hour" onclick="this.select()">:<input class="timepicker-hms" type="text" maxlength="2" ng-change="validate(temptime)" ng-model="temptime.to.minute" required="" ng-pattern="patterns.minute" onclick="this.select()">:<input class="timepicker-hms" type="text" maxlength="2" ng-change="validate(temptime)" ng-model="temptime.to.second" required="" ng-pattern="patterns.second" onclick="this.select()">.<input class="timepicker-ms" type="text" maxlength="3" ng-change="validate(temptime)" ng-model="temptime.to.millisecond" required="" ng-pattern="patterns.millisecond" onclick="this.select()"></div><span type="text" ng-show="temptime.now" ng-disabled="temptime.now">&nbsp <i class="pointer icon-remove-sign" ng-click="setNow();temptime.now=false;"></i> Right Now<input type="text" name="dummy" style="visibility:hidden"></span></div></div></form><div class="clearfix"></div></div></div><div class="dashboard-editor-footer"><form name="input" style="margin-bottom:0"><span class="" ng-hide="input.$valid">Invalid date or range</span> <button ng-click="setAbsoluteTimeFilter(validate(temptime));dismiss();" ng-disabled="!input.$valid" class="btn btn-success">Apply</button> <button ng-click="dismiss();" class="btn btn-success pull-right">Cancel</button></form></div>'),a.put("app/panels/timepicker/editor.html",'<div class="editor-row"><div class="section"><div class="editor-option"><label class="small">Relative time options <small>comma seperated</small></label><input type="text" array-join="" class="input-xlarge" ng-model="panel.time_options"></div><div class="editor-option"><label class="small">Auto-refresh options <small>comma seperated</small></label><input type="text" array-join="" class="input-xlarge" ng-model="panel.refresh_intervals"></div><p><br><i class="icon-info-sign"></i> For these changes to fully take effect save and reload the dashboard.</p></div></div>'),a.put("app/panels/timepicker/refreshctrl.html",'<form name="refreshPopover" class="form-inline input-append" style="margin:0px"><label><small>Interval (seconds)</small></label><br><input type="number" class="input-mini" ng-model="refresh_interval"><button type="button" class="btn" ng-click="set_interval(refresh_interval);dismiss()"><i class="icon-ok"></i></button></form>'),a.put("app/partials/annotations_editor.html",'<div ng-controller="AnnotationsEditorCtrl" ng-init="init()"><div class="dashboard-editor-header"><div class="dashboard-editor-title"><i class="icon icon-bolt"></i> Annotations</div><div ng-model="editor.index" bs-tabs="" style="text-transform:capitalize"><div ng-repeat="tab in [\'Overview\', \'Add\', \'Edit\']" data-title="{{tab}}"></div></div></div><div class="dashboard-editor-body"><div class="editor-row row" ng-if="editor.index == 0"><div class="span6"><table class="grafana-options-table"><tr ng-repeat="annotation in annotations"><td style="width:90%"><i class="icon-bolt"></i> &nbsp; {{annotation.name}}</td><td style="width: 1%"><a ng-click="edit(annotation)" class="btn btn-success btn-mini"><i class="icon-edit"></i> Edit</a></td><td style="width: 1%"><i ng-click="_.move(annotations,$index,$index-1)" ng-hide="$first" class="pointer icon-arrow-up"></i></td><td style="width: 1%"><i ng-click="_.move(annotations,$index,$index+1)" ng-hide="$last" class="pointer icon-arrow-down"></i></td><td style="width: 1%"><a ng-click="removeAnnotation(annotation)" class="btn btn-danger btn-mini"><i class="icon-remove"></i></a></td></tr></table></div></div><div ng-if="editor.index == 1 || (editor.index == 2 && !currentIsNew)"><div class="editor-row"><div class="editor-option"><label class="small">Name</label><input type="text" class="input-medium" ng-model="currentAnnotation.name" placeholder="name"></div><div class="editor-option"><label class="small">Datasource</label><select ng-model="currentAnnotation.datasource" ng-options="f.name as f.name for f in datasources" ng-change="datasourceChanged()"></select></div><div class="editor-option"><label class="small">Icon color</label><spectrum-picker ng-model="currentAnnotation.iconColor"></spectrum-picker></div><div class="editor-option"><label class="small">Icon size</label><select class="input-mini" ng-model="currentAnnotation.iconSize" ng-options="f for f in [7,8,9,10,13,15,17,20,25,30]"></select></div><div class="editor-option"><label class="small">Grid line</label><input type="checkbox" ng-model="currentAnnotation.showLine" ng-checked="currentAnnotation.showLine"></div><div class="editor-option"><label class="small">Line color</label><spectrum-picker ng-model="currentAnnotation.lineColor"></spectrum-picker></div></div><div ng-include="" src="currentDatasource.editorSrc"></div></div></div><div class="dashboard-editor-footer"><button ng-show="editor.index === 1" type="button" class="btn btn-success" ng-click="add()">Add</button> <button ng-show="editor.index === 2" type="button" class="btn btn-success pull-left" ng-click="update();">Update</button> <button type="button" class="btn btn-success pull-right" ng-click="close_edit();dismiss();dashboard.refresh();">Close</button></div></div>'),a.put("app/partials/console.html",'<div class="grafana-console" ng-controller="ConsoleCtrl"><div class="grafana-console-header"><span class="grafana-console-title large"><i class="icon-terminal"></i></span></div><div class="grafana-console-body"><div class="grafana-console-item" ng-repeat="item in events" ng-class="{\'grafana-console-error\': item.error}"><span class="grafana-console-time gfc-col" ng-bind="item.time"></span> <span class="grafana-console-type gfc-col"><span class="label label-info" ng-bind="item.type"></span></span> <span class="gfc-col grafana-console-method" ng-bind="item.method"></span> <span class="gfc-col grafana-console-title" ng-bind="item.title"></span> <span class="gfc-col grafana-console-elapsed" ng-bind="item.elapsed"></span> <span class="gfc-col grafana-console-field1" ng-bind="item.field1"></span> <span class="gfc-col grafana-console-field2" ng-bind="item.field2"></span> <span class="gfc-col grafana-console-field3" ng-bind="item.field3"></span></div></div></div>'),a.put("app/partials/dashLoaderShare.html",'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button><h3>{{share.title}} <small>shareable link</small></h3></div><div class="modal-body"><label>Share this dashboard with this URL</label><input ng-model="share.url" type="text" style="width:90%" onclick="this.select()" onfocus="this.select()"></div><div class="modal-footer"><button type="button" class="btn btn-success" ng-click="dismiss();$broadcast(\'render\')">Close</button></div>'),a.put("app/partials/dashboard.html",'<div ng-controller="DashboardCtrl" body-class="" class="dashboard" ng-class="{\'dashboard-fullscreen\': dashboardViewState.fullscreen}"><div ng-include="\'app/partials/dashboard_topnav.html\'"></div><div ng-if="submenuEnabled" ng-include="\'app/partials/submenu.html\'"></div><div class="clearfix"></div><div dash-editor-view=""></div><div class="main-view-container"><div class="grafana-row" ng-controller="RowCtrl" ng-repeat="(row_name, row) in dashboard.rows" row-height=""><div class="row-control"><div class="row-control-inner" style="padding:0px;margin:0px;position:relative"><div class="row-close" ng-show="row.collapse" data-placement="bottom"><div class="row-close-buttons"><span class="row-button bgPrimary" ng-click="toggle_row(row)"><i bs-tooltip="\'Expand row\'" data-placement="right" class="icon-caret-left pointer"></i></span></div><span class="row-text pointer" ng-click="toggle_row(row)" ng-bind="row.title"></span></div><div class="row-open" ng-show="!row.collapse"><div class="row-tab bgSuccess dropdown" ng-show="row.editable"><span class="row-tab-button dropdown-toggle" data-toggle="dropdown"><i class="icon-th-list"></i></span><ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="drop1"><li><a ng-click="toggle_row(row)">Collapse row</a></li><li class="dropdown-submenu"><a href="javascript:void(0);">Add Panel</a><ul class="dropdown-menu"><li bindonce="" ng-repeat="name in panelNames"><a ng-click="add_panel_default(name)" bo-text="name"></a></li></ul></li><li class="dropdown-submenu"><a href="javascript:void(0);">Set height</a><ul class="dropdown-menu"><li><a ng-click="set_height(\'25px\')">25 px</a></li><li><a ng-click="set_height(\'100px\')">100 px</a></li><li><a ng-click="set_height(\'150px\')">150 px</a></li><li><a ng-click="set_height(\'200px\')">200 px</a></li><li><a ng-click="set_height(\'250px\')">250 px</a></li><li><a ng-click="set_height(\'300px\')">300 px</a></li><li><a ng-click="set_height(\'350px\')">350 px</a></li><li><a ng-click="set_height(\'450px\')">450 px</a></li><li><a ng-click="set_height(\'500px\')">500 px</a></li><li><a ng-click="set_height(\'600px\')">600 px</a></li><li><a ng-click="set_height(\'700px\')">700 px</a></li></ul></li><li class="dropdown-submenu"><a href="javascript:void(0);">Move</a><ul class="dropdown-menu"><li><a ng-click="move_row(-1)">Up</a></li><li><a ng-click="move_row(1)">Down</a></li></ul></li><li><a dash-editor-link="app/partials/roweditor.html">Row editor</a></li><li><a ng-click="delete_row()">Delete row</a></li></ul></div></div></div><div style="padding-top:0px" ng-if="!row.collapse"><div class="row-text pointer" ng-click="toggle_row(row)" ng-if="row.showTitle" ng-bind="row.title"></div><div ng-repeat="(name, panel) in row.panels" class="panel nospace" style="position:relative" data-drop="true" panel-width="" ng-model="panel" data-jqyoui-options="" jqyoui-droppable="{index:$index,mutate:false,onDrop:\'panelMoveDrop\',onOver:\'panelMoveOver(true)\',onOut:\'panelMoveOut\'}" ng-class="{\'dragInProgress\':dashboard.$$panelDragging}"><grafana-panel type="panel.type" ng-cloak=""></grafana-panel></div><div panel-drop-zone="" class="panel dragInProgress" style="margin:5px;width:30%;background:rgba(100,100,100,0.50)" ng-style="{height:row.height}" data-drop="true" ng-model="row.panels" data-jqyoui-options="" jqyoui-droppable="{index:row.panels.length,mutate:false,onDrop:\'panelMoveDrop\',onOver:\'panelMoveOver\',onOut:\'panelMoveOut\'}"></div><div class="clearfix"></div></div></div></div><div ng-show="dashboard.editable" class="row-fluid add-row-panel-hint"><div class="span12" style="text-align:right"><span style="margin-right: 10px" ng-click="add_row_default()" class="pointer btn btn-info btn-mini"><span><i class="icon-plus-sign"></i> ADD A ROW</span></span></div></div></div><div ng-include="\'app/partials/console.html\'" ng-if="consoleEnabled"></div></div>'),a.put("app/partials/dashboard_topnav.html",'<div class="navbar navbar-static-top"><div class="navbar-inner"><div class="container-fluid"><span class="brand"><img src="img/small.png" bs-tooltip="\'Grafana\'" data-placement="bottom"> {{dashboard.title}}</span><ul class="nav pull-right" ng-controller="DashboardNavCtrl" ng-init="init()"><li ng-show="dashboardViewState.fullscreen"><a ng-click="exitFullscreen()">Back to dashboard</a></li><li class="grafana-menu-zoom-out"><a class="small" ng-click="zoom(2)">Zoom Out</a></li><li ng-repeat="pulldown in dashboard.nav" ng-controller="PulldownCtrl" ng-show="pulldown.enable"><grafana-simple-panel type="pulldown.type" ng-cloak=""></grafana-simple-panel></li><li class="dropdown grafana-menu-save"><a bs-tooltip="\'Save\'" data-placement="bottom" class="dropdown-toggle" data-toggle="dropdown" ng-click="openSaveDropdown()"><i class="icon-save"></i></a><ul class="save-dashboard-dropdown dropdown-menu" ng-if="saveDropdownOpened"><li><form class="input-prepend nomargin save-dashboard-dropdown-save-form"><input class="input-medium" ng-model="dashboard.title" type="text"><button class="btn" ng-click="saveDashboard()"><i class="icon-save"></i></button></form></li><li><a class="link" ng-click="set_default()">Save as Home</a></li><li><a class="link" ng-click="purge_default()">Reset Home</a></li><li ng-show="!isFavorite"><a class="link" ng-click="markAsFavorite()">Mark as favorite</a></li><li ng-show="isFavorite"><a class="link" ng-click="removeAsFavorite()">Remove as favorite</a></li><li><a class="link" ng-click="editJson()">Dashboard JSON</a></li><li><a class="link" ng-click="exportDashboard()">Export dashboard</a></li><li ng-show="db.saveTemp"><a bs-tooltip="\'Share\'" data-placement="bottom" ng-click="saveForSharing()" config-modal="app/partials/dashLoaderShare.html">Share temp copy</a></li></ul></li><li class="dropdown grafana-menu-load"><a bs-tooltip="\'Search\'" ng-click="openSearch()"><i class="icon-folder-open"></i></a></li><li class="grafana-menu-home"><a bs-tooltip="\'Goto saved default\'" data-placement="bottom" href="#/"><i class="icon-home"></i></a></li><li class="grafana-menu-edit" ng-show="dashboard.editable" bs-tooltip="\'Configure dashboard\'" data-placement="bottom"><a class="link" dash-editor-link="app/partials/dasheditor.html"><i class="icon-cog pointer"></i></a></li><li class="grafana-menu-stop-playlist hide"><a class="small" ng-click="stopPlaylist(2)">Stop playlist</a></li></ul></div></div></div>'),a.put("app/partials/dasheditor.html",'<div class="dashboard-editor-header"><div class="dashboard-editor-title"><i class="icon icon-cogs"></i> Dashboard settings</div><div ng-model="editor.index" bs-tabs="" style="text-transform:capitalize"><div ng-repeat="tab in [\'General\', \'Rows\', \'Features\', \'Import\']" data-title="{{tab}}"></div><div ng-repeat="tab in dashboard.nav" data-title="{{tab.type}}"></div></div></div><div class="dashboard-editor-body"><div ng-if="editor.index == 0"><div class="editor-row"><div class="section"><div class="editor-option"><label class="small">Title</label><input type="text" class="input-large" ng-model="dashboard.title"></div><div class="editor-option"><label class="small">Theme</label><select class="input-small" ng-model="dashboard.style" ng-options="f for f in [\'dark\',\'light\']" ng-change="styleUpdated()"></select></div><div class="editor-option"><label class="small">Time correction</label><select ng-model="dashboard.timezone" class="input-small" ng-options="f for f in [\'browser\',\'utc\']"></select></div><div class="editor-option"><label class="small">Hide controls (CTRL+H)</label><input type="checkbox" ng-model="dashboard.hideControls" ng-checked="dashboard.hideControls"></div></div></div><div class="editor-row"><div class="section"><div class="editor-option"><label class="small">Tags</label><bootstrap-tagsinput ng-model="dashboard.tags" tagclass="label label-tag" placeholder="add tags"></bootstrap-tagsinput><tip>Press enter to a add tag</tip></div></div></div></div><div ng-if="editor.index == 1"><div class="editor-row"><div class="span6"><table class="grafana-options-table"><tr ng-repeat="row in dashboard.rows"><td style="width: 97%">{{row.title}}</td><td><i ng-click="_.move(dashboard.rows,$index,$index-1)" ng-hide="$first" class="pointer icon-arrow-up"></i></td><td><i ng-click="_.move(dashboard.rows,$index,$index+1)" ng-hide="$last" class="pointer icon-arrow-down"></i></td><td><a ng-click="dashboard.rows = _.without(dashboard.rows,row)" class="btn btn-danger btn-mini"><i class="icon-remove"></i></a></td></tr></table></div></div></div><div ng-if="editor.index == 2"><div class="editor-row"><div class="section"><div class="editor-option"><label class="small">Templating</label><input type="checkbox" ng-model="dashboard.templating.enable" ng-checked="dashboard.templating.enable" ng-change="checkFeatureToggles()" x=""></div><div class="editor-option"><label class="small">Annotations</label><input type="checkbox" ng-model="dashboard.annotations.enable" ng-checked="dashboard.annotations.enable" ng-change="checkFeatureToggles()"></div><div class="editor-option" ng-repeat="pulldown in dashboard.nav"><label class="small" style="text-transform:capitalize">{{pulldown.type}}</label><input type="checkbox" ng-model="pulldown.enable" ng-checked="pulldown.enable"></div></div></div></div><div ng-if="editor.index == 3"><ng-include src="\'app/partials/import.html\'"></ng-include></div><div ng-repeat="pulldown in dashboard.nav" ng-controller="SubmenuCtrl" ng-show="editor.index == 4+$index"><ng-include ng-show="pulldown.enable" src="edit_path(pulldown.type)"></ng-include><button ng-hide="pulldown.enable" class="btn" ng-click="pulldown.enable = true">Enable the {{pulldown.type}}</button></div></div><div class="clearfix"></div><div class="dashboard-editor-footer"><div class="grafana-version-info" ng-show="editor.index === 0"><span class="editor-option small">Grafana version: {{grafanaVersion}} &nbsp;&nbsp;</span> <span grafana-version-check=""></span></div><button type="button" class="btn btn-success pull-right" ng-click="editor.index=0;dismiss();reset_panel();dashboard.emit_refresh()">Close</button></div>'),a.put("app/partials/edit_json.html",'<div ng-controller="JsonEditorCtrl"><div class="dashboard-editor-header"><div class="dashboard-editor-title"><i class="icon icon-edit"></i> JSON</div></div><div class="dashboard-editor-body" style="height: 500px"><textarea ng-model="json" rows="20" spellcheck="false" style="width: 90%; color: white"></textarea></div><div class="dashboard-editor-footer"><button type="button" class="btn btn-success pull-left" ng-show="canUpdate" ng-click="update(); dismiss();">Update</button> <button type="button" class="btn btn-success pull-right" ng-click="dismiss();">Close</button></div></div>'),a.put("app/partials/elasticsearch/annotation_editor.html",'<div class="editor-row"><div class="section"><h5>Index name</h5><div class="editor-option"><input type="text" class="span4" ng-model="currentAnnotation.index" placeholder="events-*"></div></div><div class="section"><h5>Search query (lucene)<tip>Use [[filterName]] in query to replace part of the query with a filter value</tip></h5><div class="editor-option"><input type="text" class="span6" ng-model="currentAnnotation.query" placeholder="tags:deploy"></div></div></div><div class="editor-row"><div class="section"><h5>Field mappings</h5><div class="editor-option"><label class="small">Time</label><input type="text" class="input-small" ng-model="currentAnnotation.timeField" placeholder="@timestamp"></div><div class="editor-option"><label class="small">Title</label><input type="text" class="input-small" ng-model="currentAnnotation.titleField" placeholder="desc"></div><div class="editor-option"><label class="small">Tags</label><input type="text" class="input-small" ng-model="currentAnnotation.tagsField" placeholder="tags"></div><div class="editor-option"><label class="small">Text</label><input type="text" class="input-small" ng-model="currentAnnotation.textField" placeholder=""></div></div></div>'),a.put("app/partials/graphite/annotation_editor.html",'<div class="editor-row"><div class="editor-option"><label class="small">Graphite target expression</label><input type="text" class="span10" ng-model="currentAnnotation.target" placeholder=""></div></div><div class="editor-row"><div class="editor-option"><label class="small">Graphite event tags</label><input type="text" ng-model="currentAnnotation.tags" placeholder=""></div></div>'),a.put("app/partials/graphite/editor.html",'<div class="editor-row" style="margin-top: 10px"><div ng-repeat="target in panel.targets" class="grafana-target" ng-class="{\'grafana-target-hidden\': target.hide}" ng-controller="GraphiteTargetCtrl" ng-init="init()"><div class="grafana-target-inner"><ul class="grafana-target-controls"><li ng-show="parserError"><a bs-tooltip="parserError" style="color: rgb(229, 189, 28)" role="menuitem"><i class="icon icon-warning-sign"></i></a></li><li><a class="pointer" tabindex="1" ng-click="showTextEditor = !showTextEditor"><i class="icon icon-pencil"></i></a></li><li class="dropdown"><a class="pointer dropdown-toggle" data-toggle="dropdown" tabindex="1"><i class="icon icon-cog"></i></a><ul class="dropdown-menu pull-right" role="menu"><li role="menuitem"><a tabindex="1" ng-click="duplicate()">Duplicate</a></li><li role="menuitem"><a tabindex="1" ng-click="toggleMetricOptions()">Toggle request options</a></li></ul></li><li><a class="pointer" tabindex="1" ng-click="removeDataQuery(target)"><i class="icon icon-remove"></i></a></li></ul><ul class="grafana-segment-list"><li class="grafana-target-segment" style="min-width: 15px; text-align: center">{{targetLetter}}</li><li><a class="grafana-target-segment" ng-click="target.hide = !target.hide; get_data();" role="menuitem"><i class="icon-eye-open"></i></a></li></ul><input type="text" class="grafana-target-text-input span10" ng-model="target.target" focus-me="showTextEditor" spellcheck="false" ng-model-onblur="" ng-change="targetTextChanged()" ng-show="showTextEditor"><ul class="grafana-segment-list" role="menu" ng-hide="showTextEditor"><li ng-repeat="segment in segments" role="menuitem" graphite-segment=""></li><li ng-repeat="func in functions"><span graphite-func-editor="" class="grafana-target-segment grafana-target-function"></span></li><li class="dropdown" graphite-add-func=""></li></ul><div class="clearfix"></div></div></div><div class="grafana-target grafana-metric-options" ng-if="panel.metricOptionsEnabled"><div class="grafana-target-inner"><ul class="grafana-segment-list"><li class="grafana-target-segment">cacheTimeout<tip>Graphite parameter to overwride memcache default timeout (unit is seconds)</tip></li><li><input type="text" class="input-large grafana-target-segment-input" ng-model="panel.cacheTimeout" spellcheck="false" placeholder="60"></li></ul><div class="clearfix"></div></div></div></div>'),a.put("app/partials/import.html",'<div ng-controller="GraphiteImportCtrl" ng-init="init()"><h5>Import dashboards from graphite web</h5><div class="editor-row"><div class="section"><div class="btn-group"><button class="btn btn-info dropdown-toggle" data-toggle="dropdown" bs-tooltip="\'Datasource\'">{{datasource.name}} <span class="caret"></span></button><ul class="dropdown-menu" role="menu"><li ng-repeat="datasource in datasources" role="menuitem"><a ng-click="setDatasource(datasource.value);">{{datasource.name}}</a></li></ul></div><button ng-click="listAll()" class="btn btn-success">List all dashboards</button></div></div><div class="editor-row" style="margin-top: 10px"><table class="table table-condensed table-striped"><tr ng-repeat="dash in dashboards"><td style="padding-right: 20px"><button class="btn btn-success" ng-click="import(dash.name)">Import</button></td><td style="width: 100%; vertical-align: middle">{{dash.name}}</td></tr></table></div><div ng-show="error" style="margin-top: 20px" class="alert alert-error">{{error}}</div></div>'),a.put("app/partials/influxdb/annotation_editor.html",'<div class="editor-row"><div class="section"><h5>InfluxDB Query<tip>Example: select text from events where $timeFilter</tip></h5><div class="editor-option"><input type="text" class="span10" ng-model="currentAnnotation.query" placeholder="select text from events where $timeFilter"></div></div></div><div class="editor-row"><div class="section"><h5>Column mappings<tip>If your influxdb query returns more than one column you need to specify the column names bellow. An annotation event is composed of a title, tags, and an additional text field.</tip></h5><div class="editor-option"><label class="small">Title</label><input type="text" class="input-small" ng-model="currentAnnotation.titleColumn" placeholder=""></div><div class="editor-option"><label class="small">Tags</label><input type="text" class="input-small" ng-model="currentAnnotation.tagsColumn" placeholder=""></div><div class="editor-option"><label class="small">Text</label><input type="text" class="input-small" ng-model="currentAnnotation.textColumn" placeholder=""></div></div></div>'),a.put("app/partials/influxdb/editor.html",'<div class="editor-row"><div ng-repeat="target in panel.targets" class="grafana-target" ng-class="{\'grafana-target-hidden\': target.hide}" ng-controller="InfluxTargetCtrl" ng-init="init()"><div class="grafana-target-inner-wrapper"><div class="grafana-target-inner"><ul class="grafana-target-controls"><li class="dropdown"><a class="pointer dropdown-toggle" data-toggle="dropdown" tabindex="1"><i class="icon icon-cog"></i></a><ul class="dropdown-menu pull-right" role="menu"><li role="menuitem"><a tabindex="1" ng-click="duplicate()">Duplicate</a> <a tabindex="2" ng-click="showQuery()" ng-hide="target.rawQuery">Raw query mode</a> <a tabindex="2" ng-click="hideQuery()" ng-show="target.rawQuery">Query editor mode</a></li></ul></li><li><a class="pointer" tabindex="1" ng-click="removeDataQuery(target)"><i class="icon icon-remove"></i></a></li></ul><ul class="grafana-segment-list"><li><a class="grafana-target-segment" ng-click="target.hide = !target.hide; get_data();" role="menuitem"><i class="icon-eye-open"></i></a></li></ul><ul class="grafana-segment-list" ng-show="target.rawQuery"><li><input type="text" class="grafana-target-text-input span10" ng-model="target.query" placeholder="select ..." focus-me="target.rawQuery" spellcheck="false" data-min-length="0" data-items="100" ng-model-onblur="" ng-blur="get_data()"></li></ul><ul class="grafana-segment-list" role="menu" ng-hide="target.rawQuery"><li class="grafana-target-segment">series</li><li><input type="text" class="grafana-target-text-input span8" ng-model="target.series" spellcheck="false" bs-typeahead="listSeries" placeholder="series name" data-min-length="0" data-items="100" ng-blur="seriesBlur()"></li><li class="grafana-target-segment">alias</li><li><input type="text" class="input-medium grafana-target-text-input" ng-model="target.alias" spellcheck="false" placeholder="alias" ng-blur="get_data()"></li></ul><div class="clearfix"></div></div><div class="grafana-target-inner"><ul class="grafana-segment-list" ng-show="target.rawQuery"><li class="grafana-target-segment"><i class="icon-eye-open invisible"></i></li><li class="grafana-target-segment">alias</li><li><input type="text" class="input-medium grafana-target-text-input" ng-model="target.alias" spellcheck="false" placeholder="alias" ng-blur="get_data()"></li><li class="grafana-target-segment">group by time</li><li><input type="text" class="input-mini grafana-target-text-input" ng-model="target.interval" spellcheck="false" placeholder="{{interval}}" data-placement="right" bs-tooltip="\'Leave blank for auto handling based on time range and panel width\'" ng-model-onblur="" ng-change="get_data()"></li></ul><ul class="grafana-segment-list" role="menu" ng-hide="target.rawQuery"><li class="grafana-target-segment"><i class="icon-eye-open invisible"></i></li><li class="grafana-target-segment">select</li><li class="dropdown"><span influxdb-func-editor="" class="grafana-target-segment"></span></li><li class="grafana-target-segment">where</li><li><input type="text" class="input-medium grafana-target-text-input" ng-model="target.condition" bs-tooltip="\'Add a where clause\'" data-placement="right" spellcheck="false" placeholder="column ~= value" ng-blur="get_data()"></li><li class="grafana-target-segment">group by time</li><li><input type="text" class="input-mini grafana-target-text-input" ng-model="target.interval" spellcheck="false" placeholder="{{interval}}" data-placement="right" bs-tooltip="\'Leave blank for auto handling based on time range and panel width\'" ng-model-onblur="" ng-change="get_data()"></li><li class="grafana-target-segment"><i class="icon-plus"></i></li><li><input type="text" class="input-small grafana-target-text-input" ng-model="target.groupby_field" bs-tooltip="\'Add a group by column or leave blank\'" placeholder="column" spellcheck="false" bs-typeahead="listColumns" data-min-length="0" ng-blur="get_data()"></li><li class="dropdown"><a class="grafana-target-segment pointer" data-toggle="dropdown" bs-tooltip="\'Insert missing values, important when stacking\'" data-placement="right"><span ng-show="target.fill">fill ({{target.fill}})</span> <span ng-show="!target.fill">no fill</span></a><ul class="dropdown-menu"><li><a ng-click="target.fill = \'\'">no fill</a></li><li><a ng-click="target.fill = \'null\'">fill (null)</a></li><li><a ng-click="target.fill = \'0\'">fill (0)</a></li></ul></li></ul><div class="clearfix"></div></div></div></div></div><section class="grafana-metric-options"><div class="grafana-target"><div class="grafana-target-inner"><ul class="grafana-segment-list"><li class="grafana-target-segment"><i class="icon-cogs"></i></li><li class="grafana-target-segment">group by time</li><li><input type="text" class="input-medium grafana-target-text-input" ng-model="panel.interval" ng-blur="get_data();" spellcheck="false" placeholder="example: >10s"></li><li class="grafana-target-segment"><i class="icon-question-sign" bs-tooltip="\'Set a low limit by having a greater sign: example: >60s\'" data-placement="right"></i></li></ul><div class="clearfix"></div></div><div class="grafana-target-inner"><ul class="grafana-segment-list"><li class="grafana-target-segment grafana-target-segment-icon"><i class="icon-info-sign"></i></li><li class="grafana-target-segment"><a ng-click="toggleEditorHelp(1);" bs-tooltip="\'click to show helpful info\'" data-placement="bottom">alias patterns</a></li><li class="grafana-target-segment"><a ng-click="toggleEditorHelp(2)" bs-tooltip="\'click to show helpful info\'" data-placement="bottom">stacking &amp; and fill</a></li><li class="grafana-target-segment"><a ng-click="toggleEditorHelp(3)" bs-tooltip="\'click to show helpful info\'" data-placement="bottom">group by time</a></li></ul><div class="clearfix"></div></div></div></section><div class="editor-row"><div class="pull-left" style="margin-top: 30px"><div class="span6" ng-if="editorHelpIndex === 1">Alias patterns:<ul><li>$s = series name</li><li>$g = group by</li><li>$[0-9] part of series name for series names seperated by dots.</li></ul></div><div class="span6" ng-if="editorHelpIndex === 2">Stacking and fill:<ul><li>When stacking is enabled it important that points align</li><li>If there are missing points for one series it can cause gaps or missing bars</li><li>You must use fill(0), and select a group by time low limit</li><li>Use the group by time option below your queries and specify for example &gt;10s if your metrics are written every 10 seconds</li><li>This will insert zeros for series that are missing measurements and will make stacking work properly</li></ul></div><div class="span6" ng-if="editorHelpIndex === 3">Group by time:<ul><li>Group by time is important, otherwise the query could return many thousands of datapoints that will slow down Grafana</li><li>Leave the group by time field empty for each query and it will be calculated based on time range and pixel width of the graph</li><li>If you use fill(0) or fill(null) set a low limit for the auto group by time interval</li><li>The low limit can only be set in the group by time option below your queries</li><li>You set a low limit by adding a greater sign before the interval</li><li>Example: &gt;60s if you write metrics to InfluxDB every 60 seconds</li></ul></div></div></div>'),a.put("app/partials/inspector.html",'<div class="modal-body" ng-controller="InspectCtrl" ng-init="init()"><div class="dashboard-editor-header"><div class="dashboard-editor-title"><i class="icon icon-eye-open"></i> Inspector</div><div ng-model="editor.index" bs-tabs=""><div ng-repeat="tab in [\'Request\', \'Response\', \'JS Error\']" data-title="{{tab}}"></div></div></div><div class="dashboard-editor-body"><div ng-if="editor.index == 0"><h5>Request details</h5><table class="table table-striped small inspector-request-table"><tr><td>Url</td><td>{{inspector.error.config.url}}</td></tr><tr><td>Method</td><td>{{inspector.error.config.method}}</td></tr><tr ng-repeat="(key, value) in inspector.error.config.headers"><td>{{key}}</td><td>{{value}}</td></tr></table><h5>Request parameters</h5><table class="table table-striped small inspector-request-table"><tr ng-repeat="param in request_parameters"><td>{{param.key}}</td><td>{{param.value}}</td></tr></table></div><div ng-if="editor.index == 1"><h5 ng-if="response" ng-bind="response"></h5><div ng-if="response_html"><div iframe-content="response_html"></div></div></div><div ng-if="editor.index == 2"><label>Message:</label><pre>\n			{{message}}\n		</pre><label>Stack trace:</label><pre>\n			{{stack_trace}}\n		</pre></div></div></div><div class="modal-footer"><button type="button" class="btn btn-info" ng-click="dismiss()">Close</button></div>'),a.put("app/partials/loadmetrics.html",'<div ng-controller="MetricKeysCtrl" ng-init="init()"><h5>Load metrics keys into elastic search</h5><p>Work in progress...</p></div>'),a.put("app/partials/metrics.html",'<div ng-include="" src="datasource.editorSrc"></div><div class="editor-row" style="margin-top: 30px"><button class="btn btn-success pull-right" ng-click="addDataQuery(panel.target)">Add query</button><div class="btn-group pull-right" style="margin-right: 10px"><button class="btn btn-info dropdown-toggle" data-toggle="dropdown" bs-tooltip="\'Datasource\'">{{datasource.name}} <span class="caret"></span></button><ul class="dropdown-menu" role="menu"><li ng-repeat="datasource in datasources" role="menuitem"><a ng-click="changeDatasource(datasource.value);">{{datasource.name}}</a></li></ul></div></div>'),a.put("app/partials/modal.html",'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button><h3>{{modal.title}}</h3></div><div class="modal-body"><div ng-bind-html="modal.body"></div></div><div class="modal-footer"><button type="button" class="btn btn-danger" ng-click="dismiss()">Close</button></div>'),a.put("app/partials/opentsdb/editor.html",'<div class="editor-row" style="margin-top: 10px"><div ng-repeat="target in panel.targets" class="grafana-target" ng-class="{\'grafana-target-hidden\': target.hide}" ng-controller="OpenTSDBTargetCtrl" ng-init="init()"><div class="grafana-target-inner-wrapper"><div class="grafana-target-inner"><ul class="grafana-target-controls"><li class="dropdown"><a class="pointer dropdown-toggle" data-toggle="dropdown" tabindex="1"><i class="icon icon-cog"></i></a><ul class="dropdown-menu pull-right" role="menu"><li role="menuitem"><a tabindex="1" ng-click="duplicate()">Duplicate</a></li></ul></li><li><a class="pointer" tabindex="1" ng-click="removeDataQuery(target)"><i class="icon icon-remove"></i></a></li></ul><ul class="grafana-target-segment-list"><li><a class="grafana-target-segment" ng-click="target.hide = !target.hide; get_data();" role="menuitem"><i class="icon-eye-open"></i></a></li></ul><ul class="grafana-segment-list" role="menu"><li><input type="text" class="grafana-target-segment-input" ng-model="target.metric" spellcheck="false" bs-typeahead="suggestMetrics" placeholder="metric name" data-min-length="0" data-items="100" ng-blur="targetBlur()"><a bs-tooltip="target.errors.metric" style="color: rgb(229, 189, 28)" ng-show="target.errors.metric"><i class="icon-warning-sign"></i></a></li><li class="grafana-target-segment">Aggregator</li><li><select ng-model="target.aggregator" class="grafana-target-segment-input input-small" ng-options="agg for agg in aggregators" ng-change="targetBlur()"></select><a bs-tooltip="target.errors.aggregator" style="color: rgb(229, 189, 28)" ng-show="target.errors.aggregator"><i class="icon-warning-sign"></i></a></li><li class="grafana-target-segment">Rate:<input type="checkbox" class="grafana-target-option-checkbox" ng-model="target.shouldComputeRate" ng-change="targetBlur()"></li><li class="grafana-target-segment" ng-hide="!target.shouldComputeRate">Counter:<input type="checkbox" class="grafana-target-option-checkbox" ng-disabled="!target.shouldComputeRate" ng-model="target.isCounter" ng-change="targetBlur()"></li><li class="grafana-target-segment">Alias:</li><li><input type="text" class="grafana-target-segment-input input-medium" ng-model="target.alias" spellcheck="false" placeholder="series alias" data-min-length="0" data-items="100" ng-blur="targetBlur()"></li></ul><div class="clearfix"></div></div><div class="grafana-target-inner"><ul class="grafana-segment-list" role="menu"><li class="grafana-target-segment">Downsample:<input type="checkbox" class="grafana-target-option-checkbox" ng-model="target.shouldDownsample" ng-change="targetBlur(target)"></li><li ng-hide="!target.shouldDownsample"><input type="text" class="input-small grafana-target-segment-input" ng-disabled="!target.shouldDownsample" ng-model="target.downsampleInterval" ng-change="targetBlur()" placeholder="interval"></li><li class="grafana-target-segment" ng-hide="!target.shouldDownsample">Aggregator</li><li ng-hide="!target.shouldDownsample"><select ng-model="target.downsampleAggregator" class="grafana-target-segment-input input-small" ng-options="agg for agg in aggregators" ng-change="targetBlur()"></select></li><li class="grafana-target-segment">Tags:</li><li ng-repeat="(key, value) in target.tags track by $index" class="grafana-target-segment">{{key}}&nbsp;=&nbsp;{{value}} <a ng-click="removeTag(key)"><i class="icon-remove"></i></a></li><li class="grafana-target-segment" ng-hide="addTagMode"><a ng-click="addTag()"><i class="icon-plus-sign"></i></a></li><li ng-show="addTagMode"><input type="text" class="input-small grafana-target-segment-input" spellcheck="false" bs-typeahead="suggestTagKeys" data-min-length="0" data-items="100" ng-model="target.currentTagKey" placeholder="key"><input type="text" class="input-small grafana-target-segment-input" spellcheck="false" bs-typeahead="suggestTagValues" data-min-length="0" data-items="100" ng-model="target.currentTagValue" placeholder="value"><a ng-click="addTag()"><i class="icon-plus-sign"></i></a> <a bs-tooltip="target.errors.tags" style="color: rgb(229, 189, 28)" ng-show="target.errors.tags"><i class="icon-warning-sign"></i></a></li></ul><div class="clearfix"></div></div></div></div></div>'),a.put("app/partials/paneleditor.html",'<div bindonce="" class="dashboard-editor-header"><div class="dashboard-editor-title"><i class="icon icon-text-width"></i> <span bo-text="panel.type+\' settings\'"></span></div><div ng-model="editor.index" bs-tabs="" style="text-transform:capitalize"><div ng-repeat="tab in setEditorTabs(panelMeta)" data-title="{{tab}}"></div></div></div><div class="dashboard-editor-body"><div ng-show="editorTabs[editor.index] == \'General\'"><div ng-include="" src="\'app/partials/panelgeneral.html\'"></div></div><div ng-show="editorTabs[editor.index] == \'Panel\'"><div ng-include="" src="edit_path(panel.type)"></div></div><div ng-repeat="tab in panelMeta.editorTabs" ng-show="editorTabs[editor.index] == tab.title"><div ng-include="" src="tab.src"></div></div></div><div class="dashboard-editor-footer"><button type="button" class="btn btn-success pull-right" ng-click="editor.index=0;dismiss()">Close</button></div>'),a.put("app/partials/panelgeneral.html",'<div class="editor-row"><div class="section"><h5>General options</h5><div class="editor-option"><label class="small">Title</label><input type="text" class="input-medium" ng-model="panel.title"></div><div class="editor-option"><label class="small">Span</label><select class="input-mini" ng-model="panel.span" ng-options="f for f in [0,1,2,3,4,5,6,7,8,9,10,11,12]"></select></div><div class="editor-option"><label class="small">Height</label><input type="text" class="input-small" ng-model="panel.height"></div></div></div>'),a.put("app/partials/playlist.html",'<div ng-controller="PlaylistCtrl" ng-init="init()"><div class="dashboard-editor-header"><div class="dashboard-editor-title"><i class="icon icon-play"></i> Start dashboard playlist</div></div><div class="dashboard-editor-body"><div class="editor-row"><div class="section"><div class="editor-option"><table class="table table-striped span4"><tr><th>Dashboard</th><th>Include</th><th style="white-space: nowrap">Remove as favorite</th></tr><tr ng-repeat="dashboard in favDashboards"><td style="white-space: nowrap">{{dashboard.title}}</td><td style="text-align: center"><input type="checkbox" ng-model="dashboard.include" ng-checked="dashboard.include"></td><td style="text-align: center"><i class="icon-remove pointer" ng-click="removeAsFavorite(dashboard)"></i></td></tr><tr ng-hide="favDashboards.length"><td colspan="3"><i class="icon-warning"></i> No dashboards marked as favorites</td></tr></table></div><div class="editor-option"><div class="span4"><span><i class="icon-question-sign"></i> dashboards available in the playlist are only the once marked as favorites (stored in local browser storage). to mark a dashboard as favorite, use save icon in the menu and in the dropdown select mark as favorite<br><br></span></div></div><div class="editor-option"><label>Timespan between change</label><input type="text" class="input-small" ng-model="timespan"></div></div></div></div><div class="dashboard-editor-footer"><button class="btn btn-success" ng-click="start();dismiss();"><i class="icon-play"></i> Start</button> <button type="button" class="btn btn-success pull-right" ng-click="dismiss();"><i class="icon-ban-circle"></i> Close</button></div></div>'),a.put("app/partials/roweditor.html",'<div class="dashboard-editor-header"><div class="dashboard-editor-title"><i class="icon icon-th-list"></i> Row settings</div><div ng-model="editor.index" bs-tabs="" style="text-transform:capitalize"><div ng-repeat="tab in [\'General\',\'Panels\']" data-title="{{tab}}"></div></div></div><div class="dashboard-editor-body"><div class="editor-row" ng-if="editor.index == 0"><div class="editor-option"><label class="small">Title</label><input type="text" class="input-medium" ng-model="row.title"></div><div class="editor-option"><label class="small">Height</label><input type="text" class="input-mini" ng-model="row.height"></div><div class="editor-option"><label class="small">Editable</label><input type="checkbox" ng-model="row.editable" ng-checked="row.editable"></div><div class="editor-option"><label class="small">Show title</label><input type="checkbox" ng-model="row.showTitle" ng-checked="row.showTitle"></div></div><div class="row-fluid" ng-if="editor.index == 1"><div class="span12"><table class="grafana-options-table" style="max-width: 400px; width: auto"><thead><th>Title</th><th>Type</th><th>Span</th><th></th><th></th><th></th></thead><tr ng-repeat="panel in row.panels"><td style="width: 95%">{{panel.title}}</td><td>{{panel.type}}</td><td><select ng-hide="panel.sizeable == false" class="input-mini" style="margin-bottom: 0" ng-model="panel.span" ng-options="size for size in [1,2,3,4,5,6,7,8,9,10,11,12]"></select></td><td><i ng-click="_.move(row.panels,$index,$index-1)" ng-hide="$first" class="pointer icon-arrow-up"></i></td><td><i ng-click="_.move(row.panels,$index,$index+1)" ng-hide="$last" class="pointer icon-arrow-down"></i></td><td><a ng-click="row.panels = _.without(row.panels,panel)" class="btn btn-danger btn-mini"><i class="icon-remove"></i></a></td></tr></table></div></div></div><div class="dashboard-editor-footer"><button type="button" class="btn btn-success pull-right" ng-click="editor.index=0;dismiss();reset_panel();close_edit()">Close</button></div>'),a.put("app/partials/search.html",'<div ng-controller="SearchCtrl" ng-init="init()"><div class="dashboard-editor-header"><div class="dashboard-editor-title" style="border: 0; line-height: 41px"><i class="icon icon-search"></i> Search</div><div class="grafana-search-panel"><div class="search-field-wrapper"><button class="btn btn-success pull-right" dash-editor-link="app/partials/playlist.html" editor-scope="isolated"><i class="icon-play"></i> Playlist</button> <button class="btn btn-success pull-right" ng-click="toggleImport($event)"><i class="icon-download-alt"></i> Import</button> <button class="btn btn-success pull-right" ng-click="newDashboard()"><i class="icon-th-large"></i> New</button> <span style="position: relative"><input type="text" placeholder="search dashboards, metrics, or graphs" xng-focus="giveSearchFocus" ng-keydown="keyDown($event)" ng-model="query.query" spellcheck="false" ng-change="search()"><a class="search-tagview-switch" href="javascript:void(0);" ng-class="{\'active\': tagsOnly}" ng-click="showTags($event)">tags</a></span></div></div></div><div ng-if="!showImport"><h6 ng-hide="results.dashboards.length">No dashboards matching your query were found.</h6><div class="search-results-container" ng-if="tagsOnly"><div class="row"><div class="span6 offset1"><div ng-repeat="tag in results.tags" class="pointer" style="width: 180px; float: left" ng-class="{\'selected\': $index === selectedIndex }" ng-click="filterByTag(tag.term, $event)"><a class="search-result-tag label label-tag" tag-color-from-name=""><i class="icon icon-tag"></i> <span>{{tag.term}} &nbsp;({{tag.count}})</span></a></div></div></div></div><div class="search-results-container" ng-if="!tagsOnly"><div class="search-result-item pointer" bindonce="" ng-repeat="row in results.dashboards" ng-class="{\'selected\': $index === selectedIndex }" ng-click="goToDashboard(row.id)"><div class="search-result-actions small"><a ng-click="shareDashboard(row.id, row.id, $event)" config-modal="app/partials/dashLoaderShare.html"><i class="icon-share"></i> share &nbsp;&nbsp;&nbsp;</a> <a ng-click="deleteDashboard(row.id, $event)"><i class="icon-remove"></i> delete</a></div><div class="search-result-tags"><a ng-click="filterByTag(tag, $event)" ng-repeat="tag in row.tags" tag-color-from-name="" class="label label-tag">{{tag}}</a></div><a class="search-result-link"><i class="icon icon-th-large"></i> <span bo-text="row.title"></span></a></div></div></div><div class="editor-row" ng-if="showImport"><div class="section"><div class="editor-option"><h5>Local File<tip>Load dashboard JSON layout from file</tip></h5><form><input type="file" id="dashupload" dash-upload=""><br></form></div></div></div></div>'),a.put("app/partials/submenu.html",'<div class="submenu-controls" ng-controller="SubmenuCtrl"><div class="grafana-target"><div class="grafana-target-inner" style="border-top: none"><ul class="grafana-segment-list"><li class="grafana-target-segment"><div class="dropdown"><a class="pointer" data-toggle="dropdown"><i class="icon-cog"></i></a><ul class="dropdown-menu"><li><a class="pointer" dash-editor-link="app/partials/templating_editor.html">Templating</a></li><li><a class="pointer" dash-editor-link="app/partials/annotations_editor.html">Annotations</a></li></ul></div></li></ul><ul class="grafana-segment-list" ng-if="dashboard.templating.enable"><li class="small grafana-target-segment"><strong>VARIABLES</strong></li><li ng-repeat-start="variable in variables" class="grafana-target-segment template-param-name"><span class="template-variable">${{variable.name}}:</span></li><li ng-repeat-end="" template-param-selector=""></li></ul><ul class="grafana-segment-list" ng-if="dashboard.annotations.enable"><li class="small grafana-target-segment"><strong>ANNOTATIONS</strong></li><li ng-repeat="annotation in dashboard.annotations.list" class="grafana-target-segment annotation-segment" ng-class="{\'annotation-disabled\': !annotation.enable}"><a ng-click="disableAnnotation(annotation)"><i class="annotation-color-icon icon-bolt"></i> {{annotation.name}}</a></li></ul><div class="clearfix"></div></div></div></div>'),a.put("app/partials/templating_editor.html",'<div ng-controller="TemplateEditorCtrl" ng-init="init()"><div class="dashboard-editor-header"><div class="dashboard-editor-title"><i class="icon icon-code"></i> Templating</div><div ng-model="editor.index" bs-tabs="" style="text-transform:capitalize"><div ng-repeat="tab in [\'Variables\', \'Add\', \'Edit\']" data-title="{{tab}}"></div></div></div><div class="dashboard-editor-body"><div ng-if="editor.index == 0"><div class="editor-row row"><div class="span8"><div ng-if="variables.length === 0"><em>No template variables defined</em></div><table class="grafana-options-table"><tr ng-repeat="variable in variables"><td style="width: 1%"><span class="template-variable">${{variable.name}}</span></td><td class="max-width" style="max-width: 200px">{{variable.query}}</td><td style="width: 1%"><a ng-click="edit(variable)" class="btn btn-success btn-mini"><i class="icon-edit"></i> Edit</a></td><td style="width: 1%"><i ng-click="_.move(variables,$index,$index-1)" ng-hide="$first" class="pointer icon-arrow-up"></i></td><td style="width: 1%"><i ng-click="_.move(variables,$index,$index+1)" ng-hide="$last" class="pointer icon-arrow-down"></i></td><td style="width: 1%"><a ng-click="removeVariable(variable)" class="btn btn-danger btn-mini"><i class="icon-remove"></i></a></td></tr></table></div></div></div><div ng-if="editor.index == 1 || (editor.index == 2 && !currentIsNew)"><div class="row"><div class="editor-option"><div class="editor-row"><div class="editor-option"><label class="small">Variable name</label><input type="text" class="input-medium" ng-model="current.name" placeholder="name"></div><div class="editor-option"><label class="small">Type</label><select class="input-medium" ng-model="current.type" ng-options="f for f in [\'query\', \'interval\', \'custom\']" ng-change="typeChanged()"></select></div><div class="editor-option" ng-show="current.type === \'query\'"><label class="small">Datasource</label><select class="input input-medium" ng-model="current.datasource" ng-options="f.value as f.name for f in datasources"></select></div><div class="editor-option text-center" ng-show="current.type === \'query\'"><label class="small">Refresh on load<tip>Check if you want values to be updated on dashboard load, will slow down dashboard load time.</tip></label><input type="checkbox" ng-model="current.refresh" ng-checked="current.refresh"></div></div><div ng-show="current.type === \'interval\'"><div class="editor-row"><div class="editor-option"><label class="small">Values</label><input type="text" class="input-xxlarge" ng-model="current.query" ng-blur="runQuery()" placeholder="name"></div></div><div class="editor-row"><div class="editor-option text-center"><label class="small">Include auto interval</label><input type="checkbox" ng-model="current.auto" ng-checked="current.auto" ng-change="runQuery()"></div><div class="editor-option" ng-show="current.auto"><label class="small">Auto interval steps<tip>How many steps, roughly, the interval is rounded and will not always match this count<tip></tip></tip></label><select class="input-mini" ng-model="current.auto_count" ng-options="f for f in [3,5,10,30,50,100,200]" ng-change="runQuery()"></select></div></div></div><div ng-show="current.type === \'custom\'"><div class="editor-row"><div class="editor-option"><label class="small">Values seperated by comma</label><input type="text" class="input-xxlarge" ng-model="current.query" ng-blur="runQuery()" placeholder="1, 10, 20, myvalue"></div></div></div><div ng-show="current.type === \'query\'"><div class="editor-row"><div class="editor-option form-inline"><label class="small">Variable values query</label><input type="text" class="input-xxlarge" ng-model="current.query" placeholder="apps.servers.*"><button class="btn btn-small btn-success" ng-click="runQuery()" bs-tooltip="\'Execute query\'" data-placement="right"><i class="icon-play"></i></button></div></div><div class="editor-row" style="margin: 15px 0"><div class="editor-option form-inline"><label class="small">regex (optional, if you want to extract part of a series name or metric node segment)</label><input type="text" class="input-xxlarge" ng-model="current.regex" placeholder="/.*-(.*)-.*/"><button class="btn btn-small btn-success" ng-click="runQuery()" bs-tooltip="\'execute query\'" data-placement="right"><i class="icon-play"></i></button></div></div><div class="editor-row" style="margin: 15px 0"><div class="editor-option text-center"><label class="small">All option</label><input type="checkbox" ng-model="current.includeAll" ng-checked="current.includeAll" ng-change="runQuery()"></div><div class="editor-option" ng-show="current.includeAll"><label class="small">All format</label><select class="input-medium" ng-model="current.allFormat" ng-change="runQuery()" ng-options="f for f in [\'glob\', \'wildcard\', \'regex wildcard\', \'regex values\']"></select></div><div class="editor-option" ng-show="current.includeAll"><label class="small">All value</label><input type="text" class="input-xlarge" ng-model="current.options[0].value"></div></div></div></div><div class="editor-option"><div class="editor-row"><div class="editor-option"><label class="small">Variable values (showing 20/{{current.options.length}})</label><ul class="grafana-options-list"><li ng-repeat="option in current.options | limitTo: 20">{{option.text}}</li></ul></div></div></div></div></div></div><div class="dashboard-editor-footer"><button type="button" class="btn btn-success pull-left" ng-show="editor.index === 2" ng-click="update();">Update</button> <button type="button" class="btn btn-success pull-left" ng-show="editor.index === 1" ng-click="add();">Add</button> <button type="button" class="btn btn-success pull-right" ng-click="dismiss();">Close</button></div></div>'),a.put("app/partials/unsaved-changes.html",'<div class="modal-header"></div><div class="modal-body"><h3 class="text-center"><i class="icon-warning-sign"></i> Unsaved changes</h3><div class="row-fluid"><span class="span3">{{changes}}</span> <button type="button" class="btn btn-success span2" ng-click="dismiss()">Cancel</button> <button type="button" class="btn btn-success span2" ng-click="save();dismiss();">Save</button> <button type="button" class="btn btn-warning span2" ng-click="ignore();dismiss();">Ignore</button> <span class="span3"></span></div></div><div class="modal-footer"></div>')
}])});